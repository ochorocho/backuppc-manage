name: Test install Ubuntu
on: push

jobs:
  shellcheck:
    name: Shellcheck
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: Run ShellCheck
      uses: ludeeus/action-shellcheck@master
  install-debian-like:
    name: Install on Ubuntu
    runs-on: ubuntu-latest
    container: ${{ matrix.container }}
    strategy:
      matrix:
        container: ['ubuntu:20.04', 'centos:8']
    steps:
      - uses: actions/checkout@v1
        with:
          fetch-depth: 1
      - name: Version
        run: cat /etc/debian_version || cat /etc/centos-release
      - name: Test Install
        run: ./test.sh
